                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.0.0 #11528 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module nixie
                                      6 	.optsdcc -mstm8
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _delay
                                     12 	.globl _strchr
                                     13 	.globl _SPI_GetFlagStatus
                                     14 	.globl _SPI_SendData
                                     15 	.globl _SPI_Cmd
                                     16 	.globl _SPI_Init
                                     17 	.globl _SPI_DeInit
                                     18 	.globl _GPIO_WriteLow
                                     19 	.globl _GPIO_WriteHigh
                                     20 	.globl _GPIO_Init
                                     21 	.globl _aaaa
                                     22 	.globl _NIXIE_Init
                                     23 	.globl _NIXIE_DisplayChar
                                     24 	.globl _NIXIE_DisplayTime
                                     25 ;--------------------------------------------------------
                                     26 ; ram data
                                     27 ;--------------------------------------------------------
                                     28 	.area DATA
                                     29 ;--------------------------------------------------------
                                     30 ; ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area INITIALIZED
      000000                         33 _aaaa::
      000000                         34 	.ds 2
                                     35 ;--------------------------------------------------------
                                     36 ; absolute external ram data
                                     37 ;--------------------------------------------------------
                                     38 	.area DABS (ABS)
                                     39 
                                     40 ; default segment ordering for linker
                                     41 	.area HOME
                                     42 	.area GSINIT
                                     43 	.area GSFINAL
                                     44 	.area CONST
                                     45 	.area INITIALIZER
                                     46 	.area CODE
                                     47 
                                     48 ;--------------------------------------------------------
                                     49 ; global & static initialisations
                                     50 ;--------------------------------------------------------
                                     51 	.area HOME
                                     52 	.area GSINIT
                                     53 	.area GSFINAL
                                     54 	.area GSINIT
                                     55 ;--------------------------------------------------------
                                     56 ; Home
                                     57 ;--------------------------------------------------------
                                     58 	.area HOME
                                     59 	.area HOME
                                     60 ;--------------------------------------------------------
                                     61 ; code
                                     62 ;--------------------------------------------------------
                                     63 	.area CODE
                                     64 ;	Source/Device/Src/nixie.c: 48: void delay(void)
                                     65 ;	-----------------------------------------
                                     66 ;	 function delay
                                     67 ;	-----------------------------------------
      000000                         68 _delay:
                                     69 ;	Source/Device/Src/nixie.c: 57: for (int i = 0; i < 300; i++);//这个比较合适
      000000 5F               [ 1]   70 	clrw	x
      000001                         71 00103$:
      000001 A3 01 2C         [ 2]   72 	cpw	x, #0x012c
      000004 2F 01            [ 1]   73 	jrslt	00118$
      000006 81               [ 4]   74 	ret
      000007                         75 00118$:
      000007 5C               [ 1]   76 	incw	x
      000008 20 F7            [ 2]   77 	jra	00103$
                                     78 ;	Source/Device/Src/nixie.c: 58: }
      00000A 81               [ 4]   79 	ret
                                     80 ;	Source/Device/Src/nixie.c: 63: void NIXIE_Init(void)
                                     81 ;	-----------------------------------------
                                     82 ;	 function NIXIE_Init
                                     83 ;	-----------------------------------------
      00000B                         84 _NIXIE_Init:
                                     85 ;	Source/Device/Src/nixie.c: 65: GPIO_Init(GPIOC,GPIO_PIN_5,GPIO_MODE_OUT_PP_LOW_FAST);//PC5 SHCP 复用功能
      00000B 4B E0            [ 1]   86 	push	#0xe0
      00000D 4B 20            [ 1]   87 	push	#0x20
      00000F 4B 0A            [ 1]   88 	push	#0x0a
      000011 4B 50            [ 1]   89 	push	#0x50
      000013 CDr00r00         [ 4]   90 	call	_GPIO_Init
      000016 5B 04            [ 2]   91 	addw	sp, #4
                                     92 ;	Source/Device/Src/nixie.c: 66: GPIO_Init(GPIOC,GPIO_PIN_6,GPIO_MODE_OUT_PP_LOW_FAST);//PC6 DATA 复用功能
      000018 4B E0            [ 1]   93 	push	#0xe0
      00001A 4B 40            [ 1]   94 	push	#0x40
      00001C 4B 0A            [ 1]   95 	push	#0x0a
      00001E 4B 50            [ 1]   96 	push	#0x50
      000020 CDr00r00         [ 4]   97 	call	_GPIO_Init
      000023 5B 04            [ 2]   98 	addw	sp, #4
                                     99 ;	Source/Device/Src/nixie.c: 67: GPIO_Init(GPIOC,GPIO_PIN_7,GPIO_MODE_OUT_PP_LOW_FAST);//PC7 STCP 普通IO口
      000025 4B E0            [ 1]  100 	push	#0xe0
      000027 4B 80            [ 1]  101 	push	#0x80
      000029 4B 0A            [ 1]  102 	push	#0x0a
      00002B 4B 50            [ 1]  103 	push	#0x50
      00002D CDr00r00         [ 4]  104 	call	_GPIO_Init
      000030 5B 04            [ 2]  105 	addw	sp, #4
                                    106 ;	Source/Device/Src/nixie.c: 68: SPI_DeInit();
      000032 CDr00r00         [ 4]  107 	call	_SPI_DeInit
                                    108 ;	Source/Device/Src/nixie.c: 70: SPI_Init(SPI_FIRSTBIT_LSB,
      000035 4B 07            [ 1]  109 	push	#0x07
      000037 4B 02            [ 1]  110 	push	#0x02
      000039 4B C0            [ 1]  111 	push	#0xc0
      00003B 4B 00            [ 1]  112 	push	#0x00
      00003D 4B 00            [ 1]  113 	push	#0x00
      00003F 4B 04            [ 1]  114 	push	#0x04
      000041 4B 00            [ 1]  115 	push	#0x00
      000043 4B 80            [ 1]  116 	push	#0x80
      000045 CDr00r00         [ 4]  117 	call	_SPI_Init
      000048 5B 08            [ 2]  118 	addw	sp, #8
                                    119 ;	Source/Device/Src/nixie.c: 78: SPI_Cmd(ENABLE);
      00004A 4B 01            [ 1]  120 	push	#0x01
      00004C CDr00r00         [ 4]  121 	call	_SPI_Cmd
      00004F 84               [ 1]  122 	pop	a
                                    123 ;	Source/Device/Src/nixie.c: 79: }
      000050 81               [ 4]  124 	ret
                                    125 ;	Source/Device/Src/nixie.c: 89: uint16_t NIXIE_DisplayChar(uint8_t tubeNum,char* character,FunctionalState tubeState)
                                    126 ;	-----------------------------------------
                                    127 ;	 function NIXIE_DisplayChar
                                    128 ;	-----------------------------------------
      000051                        129 _NIXIE_DisplayChar:
      000051 52 05            [ 2]  130 	sub	sp, #5
                                    131 ;	Source/Device/Src/nixie.c: 91: uint16_t tmp=0;
      000053 5F               [ 1]  132 	clrw	x
      000054 1F 03            [ 2]  133 	ldw	(0x03, sp), x
                                    134 ;	Source/Device/Src/nixie.c: 94: if(strchr(character,'.')!=NULL)
      000056 4B 2E            [ 1]  135 	push	#0x2e
      000058 4B 00            [ 1]  136 	push	#0x00
      00005A 1E 0B            [ 2]  137 	ldw	x, (0x0b, sp)
      00005C 89               [ 2]  138 	pushw	x
      00005D CDr00r00         [ 4]  139 	call	_strchr
      000060 5B 04            [ 2]  140 	addw	sp, #4
      000062 5D               [ 2]  141 	tnzw	x
      000063 27 05            [ 1]  142 	jreq	00118$
                                    143 ;	Source/Device/Src/nixie.c: 95: tmp|=1<<11;
      000065 AE 08 00         [ 2]  144 	ldw	x, #0x0800
      000068 1F 03            [ 2]  145 	ldw	(0x03, sp), x
                                    146 ;	Source/Device/Src/nixie.c: 96: for(uint8_t i=0;i<9;++i)
      00006A                        147 00118$:
      00006A 0F 05            [ 1]  148 	clr	(0x05, sp)
      00006C                        149 00111$:
      00006C 7B 05            [ 1]  150 	ld	a, (0x05, sp)
      00006E A1 09            [ 1]  151 	cp	a, #0x09
      000070 24 2E            [ 1]  152 	jrnc	00105$
                                    153 ;	Source/Device/Src/nixie.c: 98: if(strchr(character,'1'+i)!=NULL)
      000072 7B 05            [ 1]  154 	ld	a, (0x05, sp)
      000074 5F               [ 1]  155 	clrw	x
      000075 97               [ 1]  156 	ld	xl, a
      000076 1C 00 31         [ 2]  157 	addw	x, #0x0031
      000079 89               [ 2]  158 	pushw	x
      00007A 1E 0B            [ 2]  159 	ldw	x, (0x0b, sp)
      00007C 89               [ 2]  160 	pushw	x
      00007D CDr00r00         [ 4]  161 	call	_strchr
      000080 5B 04            [ 2]  162 	addw	sp, #4
      000082 1F 01            [ 2]  163 	ldw	(0x01, sp), x
      000084 27 16            [ 1]  164 	jreq	00112$
                                    165 ;	Source/Device/Src/nixie.c: 99: tmp|=1<<10-i;
      000086 A6 0A            [ 1]  166 	ld	a, #0x0a
      000088 10 05            [ 1]  167 	sub	a, (0x05, sp)
      00008A 5F               [ 1]  168 	clrw	x
      00008B 5C               [ 1]  169 	incw	x
      00008C 4D               [ 1]  170 	tnz	a
      00008D 27 04            [ 1]  171 	jreq	00150$
      00008F                        172 00149$:
      00008F 58               [ 2]  173 	sllw	x
      000090 4A               [ 1]  174 	dec	a
      000091 26 FC            [ 1]  175 	jrne	00149$
      000093                        176 00150$:
      000093 9F               [ 1]  177 	ld	a, xl
      000094 1A 04            [ 1]  178 	or	a, (0x04, sp)
      000096 02               [ 1]  179 	rlwa	x
      000097 1A 03            [ 1]  180 	or	a, (0x03, sp)
      000099 95               [ 1]  181 	ld	xh, a
      00009A 1F 03            [ 2]  182 	ldw	(0x03, sp), x
      00009C                        183 00112$:
                                    184 ;	Source/Device/Src/nixie.c: 96: for(uint8_t i=0;i<9;++i)
      00009C 0C 05            [ 1]  185 	inc	(0x05, sp)
      00009E 20 CC            [ 2]  186 	jra	00111$
      0000A0                        187 00105$:
                                    188 ;	Source/Device/Src/nixie.c: 101: if(strchr(character,'0')!=NULL)
      0000A0 4B 30            [ 1]  189 	push	#0x30
      0000A2 4B 00            [ 1]  190 	push	#0x00
      0000A4 1E 0B            [ 2]  191 	ldw	x, (0x0b, sp)
      0000A6 89               [ 2]  192 	pushw	x
      0000A7 CDr00r00         [ 4]  193 	call	_strchr
      0000AA 5B 04            [ 2]  194 	addw	sp, #4
      0000AC 5D               [ 2]  195 	tnzw	x
      0000AD 27 0A            [ 1]  196 	jreq	00107$
                                    197 ;	Source/Device/Src/nixie.c: 102: tmp|=1<<1;
      0000AF 7B 04            [ 1]  198 	ld	a, (0x04, sp)
      0000B1 AA 02            [ 1]  199 	or	a, #0x02
      0000B3 97               [ 1]  200 	ld	xl, a
      0000B4 7B 03            [ 1]  201 	ld	a, (0x03, sp)
      0000B6 95               [ 1]  202 	ld	xh, a
      0000B7 1F 03            [ 2]  203 	ldw	(0x03, sp), x
      0000B9                        204 00107$:
                                    205 ;	Source/Device/Src/nixie.c: 103: if(tubeState==ENABLE)
      0000B9 7B 0B            [ 1]  206 	ld	a, (0x0b, sp)
      0000BB 4A               [ 1]  207 	dec	a
      0000BC 26 07            [ 1]  208 	jrne	00109$
                                    209 ;	Source/Device/Src/nixie.c: 104: tmp|=1<<0;
      0000BE 1E 03            [ 2]  210 	ldw	x, (0x03, sp)
      0000C0 54               [ 2]  211 	srlw	x
      0000C1 99               [ 1]  212 	scf
      0000C2 59               [ 2]  213 	rlcw	x
      0000C3 1F 03            [ 2]  214 	ldw	(0x03, sp), x
      0000C5                        215 00109$:
                                    216 ;	Source/Device/Src/nixie.c: 106: output=(tmp&0xAAA)>>1;
      0000C5 1E 03            [ 2]  217 	ldw	x, (0x03, sp)
      0000C7 9F               [ 1]  218 	ld	a, xl
      0000C8 A4 AA            [ 1]  219 	and	a, #0xaa
      0000CA 90 97            [ 1]  220 	ld	yl, a
      0000CC 9E               [ 1]  221 	ld	a, xh
      0000CD A4 0A            [ 1]  222 	and	a, #0x0a
      0000CF 90 95            [ 1]  223 	ld	yh, a
      0000D1 90 54            [ 2]  224 	srlw	y
                                    225 ;	Source/Device/Src/nixie.c: 107: output|=(tmp&0x555)<<1;
      0000D3 9F               [ 1]  226 	ld	a, xl
      0000D4 A4 55            [ 1]  227 	and	a, #0x55
      0000D6 02               [ 1]  228 	rlwa	x
      0000D7 A4 05            [ 1]  229 	and	a, #0x05
      0000D9 95               [ 1]  230 	ld	xh, a
      0000DA 58               [ 2]  231 	sllw	x
      0000DB 17 04            [ 2]  232 	ldw	(0x04, sp), y
      0000DD 9F               [ 1]  233 	ld	a, xl
      0000DE 1A 05            [ 1]  234 	or	a, (0x05, sp)
      0000E0 02               [ 1]  235 	rlwa	x
      0000E1 1A 04            [ 1]  236 	or	a, (0x04, sp)
                                    237 ;	Source/Device/Src/nixie.c: 109: return output;
      0000E3 95               [ 1]  238 	ld	xh, a
                                    239 ;	Source/Device/Src/nixie.c: 110: }
      0000E4 5B 05            [ 2]  240 	addw	sp, #5
      0000E6 81               [ 4]  241 	ret
                                    242 ;	Source/Device/Src/nixie.c: 120: void NIXIE_DisplayTime(uint8_t hour,uint8_t min)
                                    243 ;	-----------------------------------------
                                    244 ;	 function NIXIE_DisplayTime
                                    245 ;	-----------------------------------------
      0000E7                        246 _NIXIE_DisplayTime:
      0000E7 52 11            [ 2]  247 	sub	sp, #17
                                    248 ;	Source/Device/Src/nixie.c: 124: char tube1s[]="0",tube2s[]="0",tube3s[]="0",tube4s[]="0";
      0000E9 A6 30            [ 1]  249 	ld	a, #0x30
      0000EB 6B 01            [ 1]  250 	ld	(0x01, sp), a
      0000ED 96               [ 1]  251 	ldw	x, sp
      0000EE 6F 02            [ 1]  252 	clr	(2, x)
      0000F0 A6 30            [ 1]  253 	ld	a, #0x30
      0000F2 6B 03            [ 1]  254 	ld	(0x03, sp), a
      0000F4 96               [ 1]  255 	ldw	x, sp
      0000F5 6F 04            [ 1]  256 	clr	(4, x)
      0000F7 A6 30            [ 1]  257 	ld	a, #0x30
      0000F9 6B 05            [ 1]  258 	ld	(0x05, sp), a
      0000FB 96               [ 1]  259 	ldw	x, sp
      0000FC 6F 06            [ 1]  260 	clr	(6, x)
      0000FE A6 30            [ 1]  261 	ld	a, #0x30
      000100 6B 07            [ 1]  262 	ld	(0x07, sp), a
      000102 96               [ 1]  263 	ldw	x, sp
      000103 6F 08            [ 1]  264 	clr	(8, x)
                                    265 ;	Source/Device/Src/nixie.c: 126: uint8_t tmp=aaaa/1000;
      000105 4B E8            [ 1]  266 	push	#0xe8
      000107 4B 03            [ 1]  267 	push	#0x03
      000109 CEu00u00         [ 2]  268 	ldw	x, _aaaa+0
      00010C 89               [ 2]  269 	pushw	x
      00010D CDr00r00         [ 4]  270 	call	__divsint
      000110 5B 04            [ 2]  271 	addw	sp, #4
                                    272 ;	Source/Device/Src/nixie.c: 127: tube1s[0]+=tmp;
      000112 7B 01            [ 1]  273 	ld	a, (0x01, sp)
      000114 89               [ 2]  274 	pushw	x
      000115 1B 02            [ 1]  275 	add	a, (2, sp)
      000117 85               [ 2]  276 	popw	x
      000118 6B 01            [ 1]  277 	ld	(0x01, sp), a
                                    278 ;	Source/Device/Src/nixie.c: 129: tmp=aaaa%1000/100;
      00011A 4B E8            [ 1]  279 	push	#0xe8
      00011C 4B 03            [ 1]  280 	push	#0x03
      00011E CEu00u00         [ 2]  281 	ldw	x, _aaaa+0
      000121 89               [ 2]  282 	pushw	x
      000122 CDr00r00         [ 4]  283 	call	__modsint
      000125 5B 04            [ 2]  284 	addw	sp, #4
      000127 4B 64            [ 1]  285 	push	#0x64
      000129 4B 00            [ 1]  286 	push	#0x00
      00012B 89               [ 2]  287 	pushw	x
      00012C CDr00r00         [ 4]  288 	call	__divsint
      00012F 5B 04            [ 2]  289 	addw	sp, #4
                                    290 ;	Source/Device/Src/nixie.c: 130: tube2s[0]+=tmp;
      000131 7B 03            [ 1]  291 	ld	a, (0x03, sp)
      000133 89               [ 2]  292 	pushw	x
      000134 1B 02            [ 1]  293 	add	a, (2, sp)
      000136 85               [ 2]  294 	popw	x
      000137 6B 03            [ 1]  295 	ld	(0x03, sp), a
                                    296 ;	Source/Device/Src/nixie.c: 132: tmp=aaaa%100/10;
      000139 4B 64            [ 1]  297 	push	#0x64
      00013B 4B 00            [ 1]  298 	push	#0x00
      00013D CEu00u00         [ 2]  299 	ldw	x, _aaaa+0
      000140 89               [ 2]  300 	pushw	x
      000141 CDr00r00         [ 4]  301 	call	__modsint
      000144 5B 04            [ 2]  302 	addw	sp, #4
      000146 4B 0A            [ 1]  303 	push	#0x0a
      000148 4B 00            [ 1]  304 	push	#0x00
      00014A 89               [ 2]  305 	pushw	x
      00014B CDr00r00         [ 4]  306 	call	__divsint
      00014E 5B 04            [ 2]  307 	addw	sp, #4
                                    308 ;	Source/Device/Src/nixie.c: 133: tube3s[0]+=tmp;
      000150 7B 05            [ 1]  309 	ld	a, (0x05, sp)
      000152 89               [ 2]  310 	pushw	x
      000153 1B 02            [ 1]  311 	add	a, (2, sp)
      000155 85               [ 2]  312 	popw	x
      000156 6B 05            [ 1]  313 	ld	(0x05, sp), a
                                    314 ;	Source/Device/Src/nixie.c: 135: tmp=aaaa%10;
      000158 4B 0A            [ 1]  315 	push	#0x0a
      00015A 4B 00            [ 1]  316 	push	#0x00
      00015C CEu00u00         [ 2]  317 	ldw	x, _aaaa+0
      00015F 89               [ 2]  318 	pushw	x
      000160 CDr00r00         [ 4]  319 	call	__modsint
      000163 5B 04            [ 2]  320 	addw	sp, #4
                                    321 ;	Source/Device/Src/nixie.c: 136: tube4s[0]+=tmp;
      000165 7B 07            [ 1]  322 	ld	a, (0x07, sp)
      000167 89               [ 2]  323 	pushw	x
      000168 1B 02            [ 1]  324 	add	a, (2, sp)
      00016A 85               [ 2]  325 	popw	x
      00016B 6B 07            [ 1]  326 	ld	(0x07, sp), a
                                    327 ;	Source/Device/Src/nixie.c: 138: tube1=NIXIE_DisplayChar(1,tube1s,ENABLE);
      00016D 4B 01            [ 1]  328 	push	#0x01
      00016F 96               [ 1]  329 	ldw	x, sp
      000170 5C               [ 1]  330 	incw	x
      000171 5C               [ 1]  331 	incw	x
      000172 89               [ 2]  332 	pushw	x
      000173 4B 01            [ 1]  333 	push	#0x01
      000175 CDr00r51         [ 4]  334 	call	_NIXIE_DisplayChar
      000178 5B 04            [ 2]  335 	addw	sp, #4
      00017A 1F 09            [ 2]  336 	ldw	(0x09, sp), x
                                    337 ;	Source/Device/Src/nixie.c: 139: tube2=NIXIE_DisplayChar(2,tube2s,ENABLE);
      00017C 4B 01            [ 1]  338 	push	#0x01
      00017E 96               [ 1]  339 	ldw	x, sp
      00017F 1C 00 04         [ 2]  340 	addw	x, #4
      000182 89               [ 2]  341 	pushw	x
      000183 4B 02            [ 1]  342 	push	#0x02
      000185 CDr00r51         [ 4]  343 	call	_NIXIE_DisplayChar
      000188 5B 04            [ 2]  344 	addw	sp, #4
      00018A 1F 0B            [ 2]  345 	ldw	(0x0b, sp), x
                                    346 ;	Source/Device/Src/nixie.c: 140: tube3=NIXIE_DisplayChar(3,tube3s,ENABLE);
      00018C 4B 01            [ 1]  347 	push	#0x01
      00018E 96               [ 1]  348 	ldw	x, sp
      00018F 1C 00 06         [ 2]  349 	addw	x, #6
      000192 89               [ 2]  350 	pushw	x
      000193 4B 03            [ 1]  351 	push	#0x03
      000195 CDr00r51         [ 4]  352 	call	_NIXIE_DisplayChar
      000198 5B 04            [ 2]  353 	addw	sp, #4
      00019A 1F 0D            [ 2]  354 	ldw	(0x0d, sp), x
                                    355 ;	Source/Device/Src/nixie.c: 141: tube4=NIXIE_DisplayChar(4,tube4s,ENABLE);
      00019C 4B 01            [ 1]  356 	push	#0x01
      00019E 96               [ 1]  357 	ldw	x, sp
      00019F 1C 00 08         [ 2]  358 	addw	x, #8
      0001A2 89               [ 2]  359 	pushw	x
      0001A3 4B 04            [ 1]  360 	push	#0x04
      0001A5 CDr00r51         [ 4]  361 	call	_NIXIE_DisplayChar
      0001A8 5B 04            [ 2]  362 	addw	sp, #4
      0001AA 1F 0F            [ 2]  363 	ldw	(0x0f, sp), x
                                    364 ;	Source/Device/Src/nixie.c: 144: ++aaaa;
      0001AC CEu00u00         [ 2]  365 	ldw	x, _aaaa+0
      0001AF 5C               [ 1]  366 	incw	x
                                    367 ;	Source/Device/Src/nixie.c: 145: if(aaaa==9999)
      0001B0 CFu00u00         [ 2]  368 	ldw	_aaaa+0, x
      0001B3 A3 27 0F         [ 2]  369 	cpw	x, #0x270f
      0001B6 26 04            [ 1]  370 	jrne	00102$
                                    371 ;	Source/Device/Src/nixie.c: 146: aaaa=0;
      0001B8 5F               [ 1]  372 	clrw	x
      0001B9 CFu00u00         [ 2]  373 	ldw	_aaaa+0, x
      0001BC                        374 00102$:
                                    375 ;	Source/Device/Src/nixie.c: 157: GPIO_WriteLow(GPIOC,GPIO_PIN_7);//595的输出线拉低
      0001BC 4B 80            [ 1]  376 	push	#0x80
      0001BE 4B 0A            [ 1]  377 	push	#0x0a
      0001C0 4B 50            [ 1]  378 	push	#0x50
      0001C2 CDr00r00         [ 4]  379 	call	_GPIO_WriteLow
      0001C5 5B 03            [ 2]  380 	addw	sp, #3
                                    381 ;	Source/Device/Src/nixie.c: 162: tmp1=(uint8_t)((tube4&0b11111110)>>1);
      0001C7 1E 0F            [ 2]  382 	ldw	x, (0x0f, sp)
      0001C9 54               [ 2]  383 	srlw	x
      0001CA 58               [ 2]  384 	sllw	x
      0001CB 4F               [ 1]  385 	clr	a
      0001CC 95               [ 1]  386 	ld	xh, a
      0001CD 54               [ 2]  387 	srlw	x
                                    388 ;	Source/Device/Src/nixie.c: 163: tmp2=(uint8_t)((tube4&0b00000001)<<7);
      0001CE 7B 10            [ 1]  389 	ld	a, (0x10, sp)
      0001D0 A4 01            [ 1]  390 	and	a, #0x01
      0001D2 4E               [ 1]  391 	swap	a
      0001D3 A4 F0            [ 1]  392 	and	a, #0xf0
      0001D5 48               [ 1]  393 	sll	a
      0001D6 48               [ 1]  394 	sll	a
      0001D7 48               [ 1]  395 	sll	a
                                    396 ;	Source/Device/Src/nixie.c: 164: tmp1=tmp1|tmp2;
      0001D8 89               [ 2]  397 	pushw	x
      0001D9 1A 02            [ 1]  398 	or	a, (2, sp)
      0001DB 85               [ 2]  399 	popw	x
                                    400 ;	Source/Device/Src/nixie.c: 165: SPI_SendData(tmp1);
      0001DC 88               [ 1]  401 	push	a
      0001DD CDr00r00         [ 4]  402 	call	_SPI_SendData
      0001E0 84               [ 1]  403 	pop	a
                                    404 ;	Source/Device/Src/nixie.c: 167: while(SPI_GetFlagStatus(SPI_FLAG_TXE)==RESET);
      0001E1                        405 00103$:
      0001E1 4B 02            [ 1]  406 	push	#0x02
      0001E3 CDr00r00         [ 4]  407 	call	_SPI_GetFlagStatus
      0001E6 5B 01            [ 2]  408 	addw	sp, #1
      0001E8 4D               [ 1]  409 	tnz	a
      0001E9 27 F6            [ 1]  410 	jreq	00103$
                                    411 ;	Source/Device/Src/nixie.c: 169: tmp1=(uint8_t)((tube3&0b1111)<<4);
      0001EB 7B 0E            [ 1]  412 	ld	a, (0x0e, sp)
      0001ED A4 0F            [ 1]  413 	and	a, #0x0f
      0001EF 4E               [ 1]  414 	swap	a
      0001F0 A4 F0            [ 1]  415 	and	a, #0xf0
      0001F2 6B 11            [ 1]  416 	ld	(0x11, sp), a
                                    417 ;	Source/Device/Src/nixie.c: 170: tmp2=(uint8_t)(tube4>>8);
      0001F4 7B 0F            [ 1]  418 	ld	a, (0x0f, sp)
      0001F6 5F               [ 1]  419 	clrw	x
                                    420 ;	Source/Device/Src/nixie.c: 171: tmp1=tmp1|tmp2;
      0001F7 1A 11            [ 1]  421 	or	a, (0x11, sp)
                                    422 ;	Source/Device/Src/nixie.c: 172: tmp2=(tmp1&0b00000001)<<7;
      0001F9 97               [ 1]  423 	ld	xl, a
      0001FA A4 01            [ 1]  424 	and	a, #0x01
      0001FC 4E               [ 1]  425 	swap	a
      0001FD A4 F0            [ 1]  426 	and	a, #0xf0
      0001FF 48               [ 1]  427 	sll	a
      000200 48               [ 1]  428 	sll	a
      000201 48               [ 1]  429 	sll	a
      000202 6B 11            [ 1]  430 	ld	(0x11, sp), a
                                    431 ;	Source/Device/Src/nixie.c: 173: tmp1=(tmp1>>1)|tmp2;
      000204 9F               [ 1]  432 	ld	a, xl
      000205 44               [ 1]  433 	srl	a
      000206 1A 11            [ 1]  434 	or	a, (0x11, sp)
                                    435 ;	Source/Device/Src/nixie.c: 174: SPI_SendData(tmp1);
      000208 88               [ 1]  436 	push	a
      000209 CDr00r00         [ 4]  437 	call	_SPI_SendData
      00020C 84               [ 1]  438 	pop	a
                                    439 ;	Source/Device/Src/nixie.c: 176: while(SPI_GetFlagStatus(SPI_FLAG_TXE)==RESET);
      00020D                        440 00106$:
      00020D 4B 02            [ 1]  441 	push	#0x02
      00020F CDr00r00         [ 4]  442 	call	_SPI_GetFlagStatus
      000212 5B 01            [ 2]  443 	addw	sp, #1
      000214 4D               [ 1]  444 	tnz	a
      000215 27 F6            [ 1]  445 	jreq	00106$
                                    446 ;	Source/Device/Src/nixie.c: 178: tmp1=(uint8_t)(tube3>>5);
      000217 1E 0D            [ 2]  447 	ldw	x, (0x0d, sp)
      000219 A6 20            [ 1]  448 	ld	a, #0x20
      00021B 62               [ 2]  449 	div	x, a
      00021C 41               [ 1]  450 	exg	a, xl
      00021D 6B 11            [ 1]  451 	ld	(0x11, sp), a
      00021F 41               [ 1]  452 	exg	a, xl
                                    453 ;	Source/Device/Src/nixie.c: 179: tmp2=(uint8_t)(((tube3&0b10000)>>4)<<7);
      000220 16 0D            [ 2]  454 	ldw	y, (0x0d, sp)
      000222 5F               [ 1]  455 	clrw	x
      000223 90 9F            [ 1]  456 	ld	a, yl
      000225 A4 10            [ 1]  457 	and	a, #0x10
      000227 97               [ 1]  458 	ld	xl, a
      000228 A6 10            [ 1]  459 	ld	a, #0x10
      00022A 62               [ 2]  460 	div	x, a
      00022B 9F               [ 1]  461 	ld	a, xl
      00022C 4E               [ 1]  462 	swap	a
      00022D A4 F0            [ 1]  463 	and	a, #0xf0
      00022F 48               [ 1]  464 	sll	a
      000230 48               [ 1]  465 	sll	a
      000231 48               [ 1]  466 	sll	a
                                    467 ;	Source/Device/Src/nixie.c: 180: tmp1=tmp1|tmp2;
      000232 1A 11            [ 1]  468 	or	a, (0x11, sp)
                                    469 ;	Source/Device/Src/nixie.c: 181: SPI_SendData(tmp1);
      000234 88               [ 1]  470 	push	a
      000235 CDr00r00         [ 4]  471 	call	_SPI_SendData
      000238 84               [ 1]  472 	pop	a
                                    473 ;	Source/Device/Src/nixie.c: 183: while(SPI_GetFlagStatus(SPI_FLAG_TXE)==RESET);
      000239                        474 00109$:
      000239 4B 02            [ 1]  475 	push	#0x02
      00023B CDr00r00         [ 4]  476 	call	_SPI_GetFlagStatus
      00023E 5B 01            [ 2]  477 	addw	sp, #1
      000240 4D               [ 1]  478 	tnz	a
      000241 27 F6            [ 1]  479 	jreq	00109$
                                    480 ;	Source/Device/Src/nixie.c: 186: tmp1=(uint8_t)((tube2&0b11111110)>>1);
      000243 1E 0B            [ 2]  481 	ldw	x, (0x0b, sp)
      000245 54               [ 2]  482 	srlw	x
      000246 58               [ 2]  483 	sllw	x
      000247 4F               [ 1]  484 	clr	a
      000248 95               [ 1]  485 	ld	xh, a
      000249 54               [ 2]  486 	srlw	x
                                    487 ;	Source/Device/Src/nixie.c: 187: tmp2=(uint8_t)((tube2&0b00000001)<<7);
      00024A 7B 0C            [ 1]  488 	ld	a, (0x0c, sp)
      00024C A4 01            [ 1]  489 	and	a, #0x01
      00024E 4E               [ 1]  490 	swap	a
      00024F A4 F0            [ 1]  491 	and	a, #0xf0
      000251 48               [ 1]  492 	sll	a
      000252 48               [ 1]  493 	sll	a
      000253 48               [ 1]  494 	sll	a
                                    495 ;	Source/Device/Src/nixie.c: 188: tmp1=tmp1|tmp2;
      000254 89               [ 2]  496 	pushw	x
      000255 1A 02            [ 1]  497 	or	a, (2, sp)
      000257 85               [ 2]  498 	popw	x
                                    499 ;	Source/Device/Src/nixie.c: 189: SPI_SendData(tmp1);
      000258 88               [ 1]  500 	push	a
      000259 CDr00r00         [ 4]  501 	call	_SPI_SendData
      00025C 84               [ 1]  502 	pop	a
                                    503 ;	Source/Device/Src/nixie.c: 191: while(SPI_GetFlagStatus(SPI_FLAG_TXE)==RESET);
      00025D                        504 00112$:
      00025D 4B 02            [ 1]  505 	push	#0x02
      00025F CDr00r00         [ 4]  506 	call	_SPI_GetFlagStatus
      000262 5B 01            [ 2]  507 	addw	sp, #1
      000264 4D               [ 1]  508 	tnz	a
      000265 27 F6            [ 1]  509 	jreq	00112$
                                    510 ;	Source/Device/Src/nixie.c: 193: tmp1=(uint8_t)((tube1&0b1111)<<4);
      000267 7B 0A            [ 1]  511 	ld	a, (0x0a, sp)
      000269 A4 0F            [ 1]  512 	and	a, #0x0f
      00026B 4E               [ 1]  513 	swap	a
      00026C A4 F0            [ 1]  514 	and	a, #0xf0
      00026E 6B 11            [ 1]  515 	ld	(0x11, sp), a
                                    516 ;	Source/Device/Src/nixie.c: 194: tmp2=(uint8_t)(tube2>>8);
      000270 7B 0B            [ 1]  517 	ld	a, (0x0b, sp)
      000272 5F               [ 1]  518 	clrw	x
                                    519 ;	Source/Device/Src/nixie.c: 195: tmp1=tmp1|tmp2;
      000273 1A 11            [ 1]  520 	or	a, (0x11, sp)
                                    521 ;	Source/Device/Src/nixie.c: 196: tmp2=(tmp1&0b00000001)<<7;
      000275 97               [ 1]  522 	ld	xl, a
      000276 A4 01            [ 1]  523 	and	a, #0x01
      000278 4E               [ 1]  524 	swap	a
      000279 A4 F0            [ 1]  525 	and	a, #0xf0
      00027B 48               [ 1]  526 	sll	a
      00027C 48               [ 1]  527 	sll	a
      00027D 48               [ 1]  528 	sll	a
      00027E 6B 11            [ 1]  529 	ld	(0x11, sp), a
                                    530 ;	Source/Device/Src/nixie.c: 197: tmp1=(tmp1>>1)|tmp2;
      000280 9F               [ 1]  531 	ld	a, xl
      000281 44               [ 1]  532 	srl	a
      000282 1A 11            [ 1]  533 	or	a, (0x11, sp)
                                    534 ;	Source/Device/Src/nixie.c: 198: SPI_SendData(tmp1);
      000284 88               [ 1]  535 	push	a
      000285 CDr00r00         [ 4]  536 	call	_SPI_SendData
      000288 84               [ 1]  537 	pop	a
                                    538 ;	Source/Device/Src/nixie.c: 200: while(SPI_GetFlagStatus(SPI_FLAG_TXE)==RESET);
      000289                        539 00115$:
      000289 4B 02            [ 1]  540 	push	#0x02
      00028B CDr00r00         [ 4]  541 	call	_SPI_GetFlagStatus
      00028E 5B 01            [ 2]  542 	addw	sp, #1
      000290 4D               [ 1]  543 	tnz	a
      000291 27 F6            [ 1]  544 	jreq	00115$
                                    545 ;	Source/Device/Src/nixie.c: 202: tmp1=(uint8_t)(tube1>>5);
      000293 1E 09            [ 2]  546 	ldw	x, (0x09, sp)
      000295 A6 20            [ 1]  547 	ld	a, #0x20
      000297 62               [ 2]  548 	div	x, a
      000298 41               [ 1]  549 	exg	a, xl
      000299 6B 11            [ 1]  550 	ld	(0x11, sp), a
      00029B 41               [ 1]  551 	exg	a, xl
                                    552 ;	Source/Device/Src/nixie.c: 203: tmp2=(uint8_t)(((tube1&0b10000)>>4)<<7);
      00029C 16 09            [ 2]  553 	ldw	y, (0x09, sp)
      00029E 5F               [ 1]  554 	clrw	x
      00029F 90 9F            [ 1]  555 	ld	a, yl
      0002A1 A4 10            [ 1]  556 	and	a, #0x10
      0002A3 97               [ 1]  557 	ld	xl, a
      0002A4 A6 10            [ 1]  558 	ld	a, #0x10
      0002A6 62               [ 2]  559 	div	x, a
      0002A7 9F               [ 1]  560 	ld	a, xl
      0002A8 4E               [ 1]  561 	swap	a
      0002A9 A4 F0            [ 1]  562 	and	a, #0xf0
      0002AB 48               [ 1]  563 	sll	a
      0002AC 48               [ 1]  564 	sll	a
      0002AD 48               [ 1]  565 	sll	a
                                    566 ;	Source/Device/Src/nixie.c: 204: tmp1=tmp1|tmp2;
      0002AE 1A 11            [ 1]  567 	or	a, (0x11, sp)
                                    568 ;	Source/Device/Src/nixie.c: 205: SPI_SendData(tmp1);
      0002B0 88               [ 1]  569 	push	a
      0002B1 CDr00r00         [ 4]  570 	call	_SPI_SendData
      0002B4 84               [ 1]  571 	pop	a
                                    572 ;	Source/Device/Src/nixie.c: 207: while(SPI_GetFlagStatus(SPI_FLAG_TXE)==RESET);
      0002B5                        573 00118$:
      0002B5 4B 02            [ 1]  574 	push	#0x02
      0002B7 CDr00r00         [ 4]  575 	call	_SPI_GetFlagStatus
      0002BA 5B 01            [ 2]  576 	addw	sp, #1
      0002BC 4D               [ 1]  577 	tnz	a
      0002BD 27 F6            [ 1]  578 	jreq	00118$
                                    579 ;	Source/Device/Src/nixie.c: 209: GPIO_WriteHigh(GPIOC,GPIO_PIN_7);//更新所有595输出
      0002BF 4B 80            [ 1]  580 	push	#0x80
      0002C1 4B 0A            [ 1]  581 	push	#0x0a
      0002C3 4B 50            [ 1]  582 	push	#0x50
      0002C5 CDr00r00         [ 4]  583 	call	_GPIO_WriteHigh
                                    584 ;	Source/Device/Src/nixie.c: 210: }
      0002C8 5B 14            [ 2]  585 	addw	sp, #20
      0002CA 81               [ 4]  586 	ret
                                    587 	.area CODE
                                    588 	.area CONST
                                    589 	.area INITIALIZER
      000000                        590 __xinit__aaaa:
      000000 00 00                  591 	.dw #0x0000
                                    592 	.area CABS (ABS)
